<template name="portfolio">
  <div id="portfolio">
  {{#if holdingsExist}}
    {{> DataTable table}}
  {{else}}
    <p class="empty-table">There are no holdings yet. <br> <a id="focus-add-trade" href="#">Add a Trade</a> or <a href="/import-transactions">Import a CSV file</a>.</p>
  {{/if}}
    {{> transaction_menu}}
  </div>
</template>

<template name="display_options">
  <ul id="display-options">
    <li>
      <input id="show-closed" type="checkbox" checked="{{showClosed}}" />
      <label for="show-closed">Show closed positions</label>
    </li>
    <li>
      <span>View as:</span>
      <input name="view-as" type="radio" id="display-percent" checked="{{displayPercent}}" />
      <label for="display-percent">%</label>
      <input name="view-as" type="radio" id="display-amount" checked="{{displayAmount}}" />
      <label for="display-amount">$</label>
    </li>
  </ul>
</template>

<template name="portfolio_total">
  {{#with total}}
  <tfoot id="portfolio-total">
    <tr>
      <td>Total</td>
      <td></td>
      <td></td>
      <td></td>
      <td>{{formatCurrency costBasis}}</td>
      <td>{{formatCurrency marketValue}}</td>

      {{#if displayPercent}}
      <td>{{{formatPercent  daysGainPercent}}}</td>
      {{else}}
      <td>{{{formatCurrencySign daysGain}}}</td>
      {{/if}}

      {{#if displayPercent}}
      <td>{{{formatPercent  overallGainPercent}}}</td>
      {{else}}
      <td>{{{formatCurrencySign overallGain}}}</td>
      {{/if}}
    </tr>
  </tfoot>
  {{/with}}
</template>